[[source_code]]
== Código fuente


[[threads_source]]
=== Creación de threads

[[threads_c]]
[source,c]
.threads.c
----
include::../code/threads.c[]
----

[[threads_py]]
[source,python]
.threads.py
----
include::../code/threads.py[]
----

[[gothreads_go]]
[source,go]
.gothreads.go
----
include::../code/gothreads.go[]
----

[[threads_java]]
[source,java]
.Threads.java
----
include::../code/Threads.java[]
----



[[counter_add]]
=== Incrementar un contador con dos hilos

[[counter_c]]
[source,c]
.counter.c
----
include::../code/counter.c[]
----

[[counter_py]]
[source,python]
.counter.py
----
include::../code/counter.py[]
----

[[gocounter_go]]
[source,go]
.gocounter.go
----
include::../code/gocounter.go[]
----

[[counter_java]]
[source,java]
.Counter.java
----
include::../code/Counter.java[]
----

[[counter_local_c]]
[source,c]
.counter_local.c
----
include::../code/counter_local.c[]
----


[[counter_peterson]]
=== Algoritmo de Peterson con barrera de memoria

[[counter_peterson_c]]
[source,c]
.counter_peterson.c
----
include::../code/counter_peterson.c[]
----

=== Instrucciones por hardware


[[getAndSet]]
==== getAndSet

[[counter_get_and_set_c]]
[source,c]
.counter_get_and_set.c
----
include::../code/counter_get_and_set.c[]
----



[[getAndAdd]]
==== getAndAdd

[[counter_get_and_add_c]]
[source,c]
.counter_get_and_add.c
----
include::../code/counter_get_and_add.c[]
----


[[gocounter_get_and_add_go]]
[source,go]
.gocounter_get_and_add.go
----
include::../code/gocounter_get_and_add.go[]
----

[[testAndSet]]
==== testAndSet

[[counter_test_and_set_c]]
[source,c]
.counter_test_and_set.c
----
include::../code/counter_test_and_set.c[]
----


[[swap]]
==== Swap

[[counter_swap_c]]
[source,c]
.counter_swap.c
----
include::../code/counter_swap.c[]
----


[[gocounter_swap_go]]
[source,go]
.gocounter_swap.go
----
include::../code/gocounter_swap.go[]
----


[[compareAndSwap]]
==== compareAndSwap

[[counter_compare_and_swap_c]]
[source,c]
.counter_compare_and_swap.c
----
include::../code/counter_compare_and_swap.c[]
----

[[gocounter_compare_and_swap_go]]
[source,go]
.gocounter_compare_and_swap.go
----
include::../code/gocounter_compare_and_swap.go[]
----

==== ABA

[[stack_cas_malloc_c]]
[source,c]
.stack_cas_malloc.c
----
include::../code/stack_cas_malloc.c[]
----

[[stack_cas_freelist_c]]
[source,c]
.stack_cas_freelist.c
----
include::../code/stack_cas_freelist.c[]
----

[[stack_cas_tagged_c]]
[source,c]
.stack_cas_tagged.c
----
include::../code/stack_cas_tagged.c[]
----
